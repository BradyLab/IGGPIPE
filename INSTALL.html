<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.1//EN"
    "http://www.w3.org/TR/xhtml11/DTD/xhtml11.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
<meta http-equiv="Content-Type" content="application/xhtml+xml; charset=UTF-8" />
<meta name="generator" content="AsciiDoc 8.6.9" />
<title>IGGPIPE INSTALLATION</title>
<style type="text/css">
/* Shared CSS for AsciiDoc xhtml11 and html5 backends */

/* Default font. */
body {
  font-family: Georgia,serif;
}

/* Title font. */
h1, h2, h3, h4, h5, h6,
div.title, caption.title,
thead, p.table.header,
#toctitle,
#author, #revnumber, #revdate, #revremark,
#footer {
  font-family: Arial,Helvetica,sans-serif;
}

body {
  margin: 1em 5% 1em 5%;
}

a {
  color: blue;
  text-decoration: underline;
}
a:visited {
  color: fuchsia;
}

em {
  font-style: italic;
  color: navy;
}

strong {
  font-weight: bold;
  color: #083194;
}

h1, h2, h3, h4, h5, h6 {
  color: #527bbd;
  margin-top: 1.2em;
  margin-bottom: 0.5em;
  line-height: 1.3;
}

h1, h2, h3 {
  border-bottom: 2px solid silver;
}
h2 {
  padding-top: 0.5em;
}
h3 {
  float: left;
}
h3 + * {
  clear: left;
}
h5 {
  font-size: 1.0em;
}

div.sectionbody {
  margin-left: 0;
}

hr {
  border: 1px solid silver;
}

p {
  margin-top: 0.5em;
  margin-bottom: 0.5em;
}

ul, ol, li > p {
  margin-top: 0;
}
ul > li     { color: #aaa; }
ul > li > * { color: black; }

.monospaced, code, pre {
  font-family: "Courier New", Courier, monospace;
  font-size: inherit;
  color: navy;
  padding: 0;
  margin: 0;
}
pre {
  white-space: pre-wrap;
}

#author {
  color: #527bbd;
  font-weight: bold;
  font-size: 1.1em;
}
#email {
}
#revnumber, #revdate, #revremark {
}

#footer {
  font-size: small;
  border-top: 2px solid silver;
  padding-top: 0.5em;
  margin-top: 4.0em;
}
#footer-text {
  float: left;
  padding-bottom: 0.5em;
}
#footer-badges {
  float: right;
  padding-bottom: 0.5em;
}

#preamble {
  margin-top: 1.5em;
  margin-bottom: 1.5em;
}
div.imageblock, div.exampleblock, div.verseblock,
div.quoteblock, div.literalblock, div.listingblock, div.sidebarblock,
div.admonitionblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.admonitionblock {
  margin-top: 2.0em;
  margin-bottom: 2.0em;
  margin-right: 10%;
  color: #606060;
}

div.content { /* Block element content. */
  padding: 0;
}

/* Block element titles. */
div.title, caption.title {
  color: #527bbd;
  font-weight: bold;
  text-align: left;
  margin-top: 1.0em;
  margin-bottom: 0.5em;
}
div.title + * {
  margin-top: 0;
}

td div.title:first-child {
  margin-top: 0.0em;
}
div.content div.title:first-child {
  margin-top: 0.0em;
}
div.content + div.title {
  margin-top: 0.0em;
}

div.sidebarblock > div.content {
  background: #ffffee;
  border: 1px solid #dddddd;
  border-left: 4px solid #f0f0f0;
  padding: 0.5em;
}

div.listingblock > div.content {
  border: 1px solid #dddddd;
  border-left: 5px solid #f0f0f0;
  background: #f8f8f8;
  padding: 0.5em;
}

div.quoteblock, div.verseblock {
  padding-left: 1.0em;
  margin-left: 1.0em;
  margin-right: 10%;
  border-left: 5px solid #f0f0f0;
  color: #888;
}

div.quoteblock > div.attribution {
  padding-top: 0.5em;
  text-align: right;
}

div.verseblock > pre.content {
  font-family: inherit;
  font-size: inherit;
}
div.verseblock > div.attribution {
  padding-top: 0.75em;
  text-align: left;
}
/* DEPRECATED: Pre version 8.2.7 verse style literal block. */
div.verseblock + div.attribution {
  text-align: left;
}

div.admonitionblock .icon {
  vertical-align: top;
  font-size: 1.1em;
  font-weight: bold;
  text-decoration: underline;
  color: #527bbd;
  padding-right: 0.5em;
}
div.admonitionblock td.content {
  padding-left: 0.5em;
  border-left: 3px solid #dddddd;
}

div.exampleblock > div.content {
  border-left: 3px solid #dddddd;
  padding-left: 0.5em;
}

div.imageblock div.content { padding-left: 0; }
span.image img { border-style: none; vertical-align: text-bottom; }
a.image:visited { color: white; }

dl {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
dt {
  margin-top: 0.5em;
  margin-bottom: 0;
  font-style: normal;
  color: navy;
}
dd > *:first-child {
  margin-top: 0.1em;
}

ul, ol {
    list-style-position: outside;
}
ol.arabic {
  list-style-type: decimal;
}
ol.loweralpha {
  list-style-type: lower-alpha;
}
ol.upperalpha {
  list-style-type: upper-alpha;
}
ol.lowerroman {
  list-style-type: lower-roman;
}
ol.upperroman {
  list-style-type: upper-roman;
}

div.compact ul, div.compact ol,
div.compact p, div.compact p,
div.compact div, div.compact div {
  margin-top: 0.1em;
  margin-bottom: 0.1em;
}

tfoot {
  font-weight: bold;
}
td > div.verse {
  white-space: pre;
}

div.hdlist {
  margin-top: 0.8em;
  margin-bottom: 0.8em;
}
div.hdlist tr {
  padding-bottom: 15px;
}
dt.hdlist1.strong, td.hdlist1.strong {
  font-weight: bold;
}
td.hdlist1 {
  vertical-align: top;
  font-style: normal;
  padding-right: 0.8em;
  color: navy;
}
td.hdlist2 {
  vertical-align: top;
}
div.hdlist.compact tr {
  margin: 0;
  padding-bottom: 0;
}

.comment {
  background: yellow;
}

.footnote, .footnoteref {
  font-size: 0.8em;
}

span.footnote, span.footnoteref {
  vertical-align: super;
}

#footnotes {
  margin: 20px 0 20px 0;
  padding: 7px 0 0 0;
}

#footnotes div.footnote {
  margin: 0 0 5px 0;
}

#footnotes hr {
  border: none;
  border-top: 1px solid silver;
  height: 1px;
  text-align: left;
  margin-left: 0;
  width: 20%;
  min-width: 100px;
}

div.colist td {
  padding-right: 0.5em;
  padding-bottom: 0.3em;
  vertical-align: top;
}
div.colist td img {
  margin-top: 0.3em;
}

@media print {
  #footer-badges { display: none; }
}

#toc {
  margin-bottom: 2.5em;
}

#toctitle {
  color: #527bbd;
  font-size: 1.1em;
  font-weight: bold;
  margin-top: 1.0em;
  margin-bottom: 0.1em;
}

div.toclevel0, div.toclevel1, div.toclevel2, div.toclevel3, div.toclevel4 {
  margin-top: 0;
  margin-bottom: 0;
}
div.toclevel2 {
  margin-left: 2em;
  font-size: 0.9em;
}
div.toclevel3 {
  margin-left: 4em;
  font-size: 0.9em;
}
div.toclevel4 {
  margin-left: 6em;
  font-size: 0.9em;
}

span.aqua { color: aqua; }
span.black { color: black; }
span.blue { color: blue; }
span.fuchsia { color: fuchsia; }
span.gray { color: gray; }
span.green { color: green; }
span.lime { color: lime; }
span.maroon { color: maroon; }
span.navy { color: navy; }
span.olive { color: olive; }
span.purple { color: purple; }
span.red { color: red; }
span.silver { color: silver; }
span.teal { color: teal; }
span.white { color: white; }
span.yellow { color: yellow; }

span.aqua-background { background: aqua; }
span.black-background { background: black; }
span.blue-background { background: blue; }
span.fuchsia-background { background: fuchsia; }
span.gray-background { background: gray; }
span.green-background { background: green; }
span.lime-background { background: lime; }
span.maroon-background { background: maroon; }
span.navy-background { background: navy; }
span.olive-background { background: olive; }
span.purple-background { background: purple; }
span.red-background { background: red; }
span.silver-background { background: silver; }
span.teal-background { background: teal; }
span.white-background { background: white; }
span.yellow-background { background: yellow; }

span.big { font-size: 2em; }
span.small { font-size: 0.6em; }

span.underline { text-decoration: underline; }
span.overline { text-decoration: overline; }
span.line-through { text-decoration: line-through; }

div.unbreakable { page-break-inside: avoid; }


/*
 * xhtml11 specific
 *
 * */

div.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
div.tableblock > table {
  border: 3px solid #527bbd;
}
thead, p.table.header {
  font-weight: bold;
  color: #527bbd;
}
p.table {
  margin-top: 0;
}
/* Because the table frame attribute is overriden by CSS in most browsers. */
div.tableblock > table[frame="void"] {
  border-style: none;
}
div.tableblock > table[frame="hsides"] {
  border-left-style: none;
  border-right-style: none;
}
div.tableblock > table[frame="vsides"] {
  border-top-style: none;
  border-bottom-style: none;
}


/*
 * html5 specific
 *
 * */

table.tableblock {
  margin-top: 1.0em;
  margin-bottom: 1.5em;
}
thead, p.tableblock.header {
  font-weight: bold;
  color: #527bbd;
}
p.tableblock {
  margin-top: 0;
}
table.tableblock {
  border-width: 3px;
  border-spacing: 0px;
  border-style: solid;
  border-color: #527bbd;
  border-collapse: collapse;
}
th.tableblock, td.tableblock {
  border-width: 1px;
  padding: 4px;
  border-style: solid;
  border-color: #527bbd;
}

table.tableblock.frame-topbot {
  border-left-style: hidden;
  border-right-style: hidden;
}
table.tableblock.frame-sides {
  border-top-style: hidden;
  border-bottom-style: hidden;
}
table.tableblock.frame-none {
  border-style: hidden;
}

th.tableblock.halign-left, td.tableblock.halign-left {
  text-align: left;
}
th.tableblock.halign-center, td.tableblock.halign-center {
  text-align: center;
}
th.tableblock.halign-right, td.tableblock.halign-right {
  text-align: right;
}

th.tableblock.valign-top, td.tableblock.valign-top {
  vertical-align: top;
}
th.tableblock.valign-middle, td.tableblock.valign-middle {
  vertical-align: middle;
}
th.tableblock.valign-bottom, td.tableblock.valign-bottom {
  vertical-align: bottom;
}


/*
 * manpage specific
 *
 * */

body.manpage h1 {
  padding-top: 0.5em;
  padding-bottom: 0.5em;
  border-top: 2px solid silver;
  border-bottom: 2px solid silver;
}
body.manpage h2 {
  border-style: none;
}
body.manpage div.sectionbody {
  margin-left: 3em;
}

@media print {
  body.manpage div#toc { display: none; }
}


</style>
<script type="text/javascript">
/*<![CDATA[*/
var asciidoc = {  // Namespace.

/////////////////////////////////////////////////////////////////////
// Table Of Contents generator
/////////////////////////////////////////////////////////////////////

/* Author: Mihai Bazon, September 2002
 * http://students.infoiasi.ro/~mishoo
 *
 * Table Of Content generator
 * Version: 0.4
 *
 * Feel free to use this script under the terms of the GNU General Public
 * License, as long as you do not remove or alter this notice.
 */

 /* modified by Troy D. Hanson, September 2006. License: GPL */
 /* modified by Stuart Rackham, 2006, 2009. License: GPL */

// toclevels = 1..4.
toc: function (toclevels) {

  function getText(el) {
    var text = "";
    for (var i = el.firstChild; i != null; i = i.nextSibling) {
      if (i.nodeType == 3 /* Node.TEXT_NODE */) // IE doesn't speak constants.
        text += i.data;
      else if (i.firstChild != null)
        text += getText(i);
    }
    return text;
  }

  function TocEntry(el, text, toclevel) {
    this.element = el;
    this.text = text;
    this.toclevel = toclevel;
  }

  function tocEntries(el, toclevels) {
    var result = new Array;
    var re = new RegExp('[hH]([1-'+(toclevels+1)+'])');
    // Function that scans the DOM tree for header elements (the DOM2
    // nodeIterator API would be a better technique but not supported by all
    // browsers).
    var iterate = function (el) {
      for (var i = el.firstChild; i != null; i = i.nextSibling) {
        if (i.nodeType == 1 /* Node.ELEMENT_NODE */) {
          var mo = re.exec(i.tagName);
          if (mo && (i.getAttribute("class") || i.getAttribute("className")) != "float") {
            result[result.length] = new TocEntry(i, getText(i), mo[1]-1);
          }
          iterate(i);
        }
      }
    }
    iterate(el);
    return result;
  }

  var toc = document.getElementById("toc");
  if (!toc) {
    return;
  }

  // Delete existing TOC entries in case we're reloading the TOC.
  var tocEntriesToRemove = [];
  var i;
  for (i = 0; i < toc.childNodes.length; i++) {
    var entry = toc.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div'
     && entry.getAttribute("class")
     && entry.getAttribute("class").match(/^toclevel/))
      tocEntriesToRemove.push(entry);
  }
  for (i = 0; i < tocEntriesToRemove.length; i++) {
    toc.removeChild(tocEntriesToRemove[i]);
  }

  // Rebuild TOC entries.
  var entries = tocEntries(document.getElementById("content"), toclevels);
  for (var i = 0; i < entries.length; ++i) {
    var entry = entries[i];
    if (entry.element.id == "")
      entry.element.id = "_toc_" + i;
    var a = document.createElement("a");
    a.href = "#" + entry.element.id;
    a.appendChild(document.createTextNode(entry.text));
    var div = document.createElement("div");
    div.appendChild(a);
    div.className = "toclevel" + entry.toclevel;
    toc.appendChild(div);
  }
  if (entries.length == 0)
    toc.parentNode.removeChild(toc);
},


/////////////////////////////////////////////////////////////////////
// Footnotes generator
/////////////////////////////////////////////////////////////////////

/* Based on footnote generation code from:
 * http://www.brandspankingnew.net/archive/2005/07/format_footnote.html
 */

footnotes: function () {
  // Delete existing footnote entries in case we're reloading the footnodes.
  var i;
  var noteholder = document.getElementById("footnotes");
  if (!noteholder) {
    return;
  }
  var entriesToRemove = [];
  for (i = 0; i < noteholder.childNodes.length; i++) {
    var entry = noteholder.childNodes[i];
    if (entry.nodeName.toLowerCase() == 'div' && entry.getAttribute("class") == "footnote")
      entriesToRemove.push(entry);
  }
  for (i = 0; i < entriesToRemove.length; i++) {
    noteholder.removeChild(entriesToRemove[i]);
  }

  // Rebuild footnote entries.
  var cont = document.getElementById("content");
  var spans = cont.getElementsByTagName("span");
  var refs = {};
  var n = 0;
  for (i=0; i<spans.length; i++) {
    if (spans[i].className == "footnote") {
      n++;
      var note = spans[i].getAttribute("data-note");
      if (!note) {
        // Use [\s\S] in place of . so multi-line matches work.
        // Because JavaScript has no s (dotall) regex flag.
        note = spans[i].innerHTML.match(/\s*\[([\s\S]*)]\s*/)[1];
        spans[i].innerHTML =
          "[<a id='_footnoteref_" + n + "' href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
        spans[i].setAttribute("data-note", note);
      }
      noteholder.innerHTML +=
        "<div class='footnote' id='_footnote_" + n + "'>" +
        "<a href='#_footnoteref_" + n + "' title='Return to text'>" +
        n + "</a>. " + note + "</div>";
      var id =spans[i].getAttribute("id");
      if (id != null) refs["#"+id] = n;
    }
  }
  if (n == 0)
    noteholder.parentNode.removeChild(noteholder);
  else {
    // Process footnoterefs.
    for (i=0; i<spans.length; i++) {
      if (spans[i].className == "footnoteref") {
        var href = spans[i].getElementsByTagName("a")[0].getAttribute("href");
        href = href.match(/#.*/)[0];  // Because IE return full URL.
        n = refs[href];
        spans[i].innerHTML =
          "[<a href='#_footnote_" + n +
          "' title='View footnote' class='footnote'>" + n + "</a>]";
      }
    }
  }
},

install: function(toclevels) {
  var timerId;

  function reinstall() {
    asciidoc.footnotes();
    if (toclevels) {
      asciidoc.toc(toclevels);
    }
  }

  function reinstallAndRemoveTimer() {
    clearInterval(timerId);
    reinstall();
  }

  timerId = setInterval(reinstall, 500);
  if (document.addEventListener)
    document.addEventListener("DOMContentLoaded", reinstallAndRemoveTimer, false);
  else
    window.onload = reinstallAndRemoveTimer;
}

}
asciidoc.install();
/*]]>*/
</script>
</head>
<body class="article">
<div id="header">
<h1>IGGPIPE INSTALLATION</h1>
<span id="author">Version v0.0, Aug 2015</span><br />
</div>
<div id="content">
<div id="preamble">
<div class="sectionbody">
<div class="paragraph"><p>This describes how to install all elements needed to run the IGGPIPE software.</p></div>
</div>
</div>
<div class="sect1">
<h2 id="_strong_if_not_done_already_download_iggpipe_files_strong"><strong>If not done already, download IGGPIPE files</strong></h2>
<div class="sectionbody">
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Browse to <a href="https://github.com/BradyLab/IGGPIPE">https://github.com/BradyLab/IGGPIPE</a>
</p>
</li>
<li>
<p>
At bottom of right column on screen, click "Download ZIP" and choose a place to
put it on your computer.
</p>
</li>
<li>
<p>
Unzip the zip file on your computer.
</p>
</li>
<li>
<p>
Rename the unzipped folder from "IGGPIPE-master" to just "IGGPIPE".
</p>
</li>
<li>
<p>
If you are a GitHub user and wish to use the IGGPIPE GitHub repository directly,
instead of the above steps, you can fork the IGGPIPE repository and work on your own
copy. The <em>master</em> branch is where the releases reside, each tagged with a version
number. You can create a branch whose contents are the same as a tagged version
with the command:
</p>
<div class="openblock">
<div class="content">
<div class="literalblock">
<div class="content">
<pre><code>git checkout -b my_V1.0_branch v1.0"</code></pre>
</div></div>
<div class="paragraph"><p>You can then do the installation process using those files.</p></div>
<div class="paragraph"><p>We will try to monitor for pull requests if you make useful changes.</p></div>
</div></div>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_strong_requirements_for_installing_iggpipe_strong"><strong>Requirements for installing IGGPIPE</strong></h2>
<div class="sectionbody">
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>64-bit Mac OSX, Linux, or Windows/Cygwin System</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>This description focuses on installation on a 64-bit Mac OSX system.  Installation
has also been tested on 64-bit Linux and 64-bit Windows, and we describe installation
differences, but command line examples here are for Mac OSX, and Linux and Windows
users are expected to be savvy enough to translate these to their system. For
Windows systems, the Cygwin Unix-like tools must be installed.
IGGPIPE will not work on 32-bit Windows systems.</p></div>
</div></div>
</li>
<li>
<p>
<strong>The computer must have enough memory and speed</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Before starting the installation, consider whether the computer on which the
software is to be installed has enough memory for the problem at hand. We have
been running IGGPIPE using 16GB of RAM, and we recommend no less than that amount.
For larger genomes or more genomes, you will possibly need more. The computer we
used has a 2.4 GHz processor, which has been adequate. You should monitor memory
usage while the pipeline is running, and if it becomes excessive for your computer,
you know you will need more memory to run those genomes.</p></div>
</div></div>
</li>
<li>
<p>
<strong>Work from the command line</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Most work here is done from the command line, by opening the Terminal application.
You should be familiar with some basic command line commands such as <em>cd</em>, <em>ls</em>,
<em>cp</em>, <em>rm</em>, <em>mv</em>, <em>sudo</em>, <em>less</em>, <em>head</em> and <em>tail</em>, <em>man</em>, and <em>mkdir</em>.
If you do not know how to use the command line or don&#8217;t know these basic commands,
take time to learn a bit. A suggested tutorial (on the long side, but spend as
little or as much time as you need to feel you can get started here) from UC Davis
is at:</p></div>
<div class="paragraph"><p><a href="http://korflab.ucdavis.edu/Unix_and_Perl/current.html">http://korflab.ucdavis.edu/Unix_and_Perl/current.html</a></p></div>
</div></div>
</li>
<li>
<p>
<strong>Work in the IGGPIPE main directory unless otherwise instructed</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>While working from the command line to install IGGPIPE, most of the time you will
be in the IGGPIPE main directory, unless instructed otherwise. If you unzipped
the IGGPIPE zip file in your Documents folder, you might change into the IGGPIPE
directory with this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cd ~/Documents/IGGPIPE</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Know how to use a plain text editor and have one available</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>You must have a plain text editor you know how to use.  If nothing else, the
simple editor <em>nano</em>, which comes with Mac, Linux, and Cygwin, will work. On
a Mac you can also use the <em>TextEdit</em> program (use Plain Text format).  For Mac,
the free open-source TextWrangler program is strongly recommended, and its more
capable version called BBEdit is totally worth the $50 price for anyone who
regularly edits text files.  TextWrangler is available from the Apple App Store
(Applications, App Store) or from:</p></div>
<div class="paragraph"><p><a href="http://www.barebones.com/products/textwrangler">http://www.barebones.com/products/textwrangler</a></p></div>
<div class="paragraph"><p>On Windows, <em>do not use Notepad</em>, as it will cause problems with DOS vs Unix line
ends.  If you don&#8217;t want to use <em>nano</em>, look into Notepad++, a free text editor.</p></div>
</div></div>
</li>
<li>
<p>
<strong>The following programs/applications will be installed as part of this installation
process if they aren&#8217;t already:</strong>
</p>
<div class="openblock">
<div class="content">
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
Xcode (V7.0.1 works) (Apple App Store; <em>make</em> and <em>g++</em>)
</p>
</li>
<li>
<p>
Jellyfish V2 or later (V2.2.3 works) (<a href="http://www.genome.umd.edu/jellyfish.html">http://www.genome.umd.edu/jellyfish.html</a>)
</p>
</li>
<li>
<p>
Perl V5 or later (V5.16.0 works) (<a href="https://www.perl.org/get.html">https://www.perl.org/get.html</a>)
</p>
</li>
<li>
<p>
R V3 or later (V3.2.1 works) (<a href="https://www.r-project.org">https://www.r-project.org</a>)
</p>
</li>
<li>
<p>
Primer3 (V2.3.6 works) (<a href="http://sourceforge.net/projects/primer3">http://sourceforge.net/projects/primer3</a>)
</p>
</li>
<li>
<p>
NCBI e-PCR (V2.3.12-1 works) (<a href="http://www.ncbi.nlm.nih.gov/tools/epcr">http://www.ncbi.nlm.nih.gov/tools/epcr</a>)
</p>
</li>
<li>
<p>
MUSCLE (V3.8.31 works) (<a href="http://www.drive5.com/muscle/downloads.htm">http://www.drive5.com/muscle/downloads.htm</a>)
</p>
</li>
</ol></div>
</div></div>
</li>
<li>
<p>
<strong>Two of the above will require compilation and build on your computer using <em>make</em>:</strong>
</p>
<div class="openblock">
<div class="content">
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
Jellyfish
</p>
</li>
<li>
<p>
e-PCR
</p>
</li>
</ol></div>
</div></div>
</li>
<li>
<p>
<strong>One C++ program provided with IGGPIPE will be compiled and built:</strong>
</p>
<div class="openblock">
<div class="content">
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
findMers
</p>
</li>
</ol></div>
</div></div>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_strong_install_iggpipe_quick_start_for_the_experienced_strong"><strong>Install IGGPIPE - Quick Start for the Experienced</strong></h2>
<div class="sectionbody">
<div class="paragraph"><p><strong>Follow brief instructions here if you are experienced with installations and want to
try to do a Quick Start installation with minimal reading.  If you have trouble, check
the more detailed instructions below for help.</strong>
&#8203;<br />
&#8203;<br /></p></div>
<div class="olist arabic"><ol class="arabic">
<li>
<p>
Mac OSX: install Xcode and do ' xcode-select --install'; Windows: install Cygwin including
Perl, make, and Bash
</p>
</li>
<li>
<p>
Copy allPathParameters.template file to new file allPathParameters.ours, then edit the new
file and set WD to IGGPIPE directory
</p>
</li>
<li>
<p>
Install Jellyfish V2 or later (V2.2.3 works), configuring with ./configure, compiling
with <em>make</em>, and installing with <em>sudo make install</em>
</p>
</li>
<li>
<p>
Install a V5 or later Perl if not already installed
</p>
</li>
<li>
<p>
Install R V3.2.1 or later.  Windows installation may require reading more installation
details below.
</p>
</li>
<li>
<p>
Install Primer3 V2.3.6 or later and assign CMD_PRIMER3CORE and DIR_PRIMER3CONFIG
in allPathParameters.ours
</p>
</li>
<li>
<p>
Install e-PCR V2.3.12-1 or later and assign CMD_EPCR in allPathParameters.ours
</p>
</li>
<li>
<p>
Install MUSCLE V8.31 or later and assign CMD_ALIGNER in allPathParameters.ours
</p>
</li>
<li>
<p>
Build <em>findMers</em> using <em>make</em> in the <em>findMers</em> folder.
</p>
</li>
<li>
<p>
Test trashing a file using <em>$SHELL code/shell/trash.sh &lt;filename&gt;</em> and if it fails,
set <em>CMD_DELETE_WHEN_CLEANING := $(CMD_DELETE)</em>  in allPathParameters.ours
</p>
</li>
<li>
<p>
Copy primer3settings.default.txt to primer3settings.txt
</p>
</li>
<li>
<p>
On OSX in Xcode choose Open Developer Tool, FileMerge, then set it to stay in the dock.
</p>
</li>
<li>
<p>
Run IGGPIPE on test data using <em>make PARAMS=allParameters.test ALL | tee logFiles/makeLog.test.txt</em>
then look through log file with <em>less logFiles/makeLog.test.txt</em> and compare actual results with
expected results using <em>source code/shell/cmpKeyFiles.sh outTestHP11 goodTest</em> (some files
have not yet been made)
</p>
</li>
<li>
<p>
Run <em>make PARAMS=allParameters.test IndelsSNPs</em> and check results again
with <em>source code/shell/cmpKeyFiles.sh outTestHP11 goodTest</em>
</p>
</li>
<li>
<p>
Run <em>make PARAMS=allParameters.test plotIndels</em> and examine outTestHP11/Markers.indels.pdf
</p>
</li>
<li>
<p>
Run <em>Rscript code/R/dotplot.R dotplot.template</em> and examine outTestHP11/LCRs_.dotplot.png
</p>
</li>
<li>
<p>
Run <em>Rscript code/R/annotateFile.R annotate.template</em> and check results again
with <em>source code/shell/cmpKeyFiles.sh outTestHP11 goodTest</em>
</p>
</li>
</ol></div>
</div>
</div>
<div class="sect1">
<h2 id="_strong_install_iggpipe_detailed_instructions_strong"><strong>Install IGGPIPE - Detailed Instructions</strong></h2>
<div class="sectionbody">
<div class="olist arabic"><ol class="arabic">
<li>
<p>
<strong>Install Xcode (Mac OSX only) or Cygwin (Windows only)</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>IGGPIPE makes use of a utility called <em>make</em>, and also, some of the applications used
by IGGPIPE are distributed as source code that must be compiled and built into a runnable
application on the user&#8217;s computer, which requires a C++ compiler (g\++ utility). On
Linux, these utilities are already installed so you can skip this step.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Xcode (OSX)</strong>
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>On Mac OSX, the Apple Developer Toolkit named Xcode provides <em>make</em> and the other
required utilities.  Xcode is available free from the Apple App Store
(Applications, App Store).  If you don&#8217;t have Xcode installed already, run the App Store
application, search for "Xcode", and double-click the <em>Install</em> button to install it,
and even if you do have it installed, make sure you are updated with the latest version.
We used version 7.0.1, although later versions should work fine. <em>Earlier versions
produce errors trying to compile Jellyfish</em>, so be sure you have version 7.0.1 or later.</p></div>
<div class="paragraph"><p>Installation takes quite a long time, during which it appears nothing is happening.</p></div>
<div class="paragraph"><p>When Xcode install is finished, you can verify that it was installed successfully
by finding the Xcode application icon in Applications and running it.  It may then
display a box requesting your computer administrator password so it can install
additional components. Then, close the Xcode application and go to the command line
and enter the following command, which checks to see if the command line tools such
as <em>make</em> and <em>g++</em> are installed, and if not, installs them:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>xcode-select --install</code></pre>
</div></div>
<div class="paragraph"><p>To verify they are installed, you can enter this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>g++</code></pre>
</div></div>
<div class="paragraph"><p>and you should see the error message "clang: error: no input files".
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</dd>
<dt class="hdlist1">
<strong>Cygwin (Windows)</strong>
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>On Windows, the open source Cygwin tools environment provides <em>make</em> and the other
required utilities.  If you don&#8217;t already have Cygwin installed, it is available
from:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>https://www.cygwin.com</code></pre>
</div></div>
<div class="paragraph"><p>You should follow the instructions there for installation of Cygwin.  Make sure
you set the Cygwin installer so as to install:</p></div>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
Perl
</p>
</li>
<li>
<p>
Make - found under Devel (or just install all of Devel)
</p>
</li>
<li>
<p>
Editors (for nano editor)
</p>
</li>
<li>
<p>
bash - found under Shells
</p>
</li>
</ol></div>
<div class="paragraph"><p>Many of these will be installed by default and the values will not need to be changed.
To install a package, click the circle with arrows until it changes to a version number.
This may not be a complete list of all the packages that need to be installed.
Be watchful for command failures due to packages not having been installed, and
if you find such a case, re-run the Cygwin installer and change the package you
want from <em>skip</em> to <em>install</em>.</p></div>
<div class="paragraph"><p>Although the R language is required for IGGPIPE, the version of R installed by
Cygwin (available under the science category) will not be sufficient,
and correct R installation instructions are given in a later step.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</dd>
</dl></div>
</div></div>
</li>
<li>
<p>
<strong>Change to IGGPIPE directory</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Work from the command line from this point onwards. In OSX, the Terminal program in
the Utilities folder gives you the command line, while under Windows/Cygwin, the
Cygwin command line is the place to work.</p></div>
<div class="paragraph"><p>Start by changing the current directory to the IGGPIPE directory where you
downloaded the IGGPIPE files:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cd whatever/IGGPIPE</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Copy allPathParameters.template file to new file allPathParameters.ours</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>A variety of applications must be installed. Before installing them, you should
prepare a text file for editing. There is a text file in the IGGPIPE main
directory that contains tool path settings for running IGGPIPE:
allPathParameters.template.</p></div>
<div class="paragraph"><p>The file provides settings of paths where applications have been installed, and
related settings. To make your own version of this file containing your own
application paths, copy the file to a new filename, replacing ".template" with
".ours":</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cp allPathParameters.template allPathParameters.ours</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Open the allPathParameters.ours file in a plain text editor</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Open the new allPathParameters.ours file created above in your plain text editor
for editing. If you are in a hurry, you don&#8217;t need to go through the whole file,
but simply need to set the parameters shown at the start of the file, up to the
comment that indicates you are at the end of the quick start section.</p></div>
<div class="paragraph"><p>For example, if your text editor is nano, you might use this
command line to open your editor to edit the template file:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>nano allPathParameters.ours</code></pre>
</div></div>
<div class="paragraph"><p>Under Windows, don&#8217;t use Notepad as it will cause problems with DOS versus Unix line ends.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Set WD to your IGGPIPE directory in the allPathParameters.ours file</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Find the WD parameter in the allPathParameters.ours file, which looks like:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>WD := $(BRADYLAB)/Genomes/kmers/IGGPIPE</code></pre>
</div></div>
<div class="paragraph"><p>Change the assigned value to the path of your IGGPIPE directory (where you unzipped
the IGGPIPE files).  You can find the correct path to use by changing into the
IGGPIPE directory (already done above) and entering this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>pwd</code></pre>
</div></div>
<div class="paragraph"><p>Under Cygwin on Windows, this command will also work:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cygpath -am .</code></pre>
</div></div>
<div class="paragraph"><p>(note the <em>.</em> for current directory)</p></div>
<div class="paragraph"><p>For example, maybe your WD assignment would look like this:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>WD := /Users/johndoe/Documents/IGGPIPE</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Install Jellyfish</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Jellyfish is a free open-source bioinformatics application that searches FASTA
sequence files for k-mers of a specified size and writes them to a file. IGGPIPE
uses Jellyfish to extract unique (occurring once) k-mers from the genome sequences
being used.  You may already have Jellyfish installed, and if so you want to check
its version number.  Here is the command to see if it is installed and check the
version:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>jellyfish --version</code></pre>
</div></div>
<div class="paragraph"><p>Assuming you do not have it installed, or you have a version older than 2.2.3,
you must do an installation.  You can find the Jellyfish at:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>http://www.genome.umd.edu/jellyfish.html</code></pre>
</div></div>
<div class="paragraph"><p>We chose the "latest source and binaries" link, then downloaded the .tar.gz file.
Double-click this file in Finder, in the Downloads folder, and it unpacks
to produce a jellyfish folder.  We chose to move this folder to a directory named
<em>src</em> under our user root directory:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cd ~
pwd
mkdir src
cp Downloads/jellyfish-2.2.3 src</code></pre>
</div></div>
<div class="paragraph"><p>This version of IGGPIPE was tested with Jellyfish version 2.2.3.  Newer versions should
work as well. <em>Older versions will not work, because Jellyfish changed its output file
names. They used to end with "_0" but no longer do!</em></p></div>
<div class="paragraph"><p>Now the Jellyfish program must be configured, then compiled into an application,
then installed on your computer.</p></div>
<div class="dlist"><dl>
<dt class="hdlist1">
<strong>Configure</strong>
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>To configure the Jellyfish build components on OSX, Linux, or Windows/Cygwin:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>(change into Jellyfish directory)
./configure</code></pre>
</div></div>
<div class="paragraph"><p>The command worked without error on Linux and Windows, but an error occurred on OSX:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>config.status: error: cannot find input file: `tests/compat.sh.in'</code></pre>
</div></div>
<div class="paragraph"><p>We ignored this error and continued on with the installation, and it worked fine.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</dd>
<dt class="hdlist1">
<strong>Compile</strong>
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>To compile Jellyfish on OSX, Linux, or Windows/Cygwin:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>(change into Jellyfish directory)
make</code></pre>
</div></div>
<div class="paragraph"><p>The <em>make</em> command worked without error on OSX and Linux, but compile errors ("impossible
constraint" errors) occurred on Windows. Also, the Jellyfish installation README file
said that this would not work on OSX.  We found that it does not work on older OSX and
Xcode versions, but it definitely does work on OSX 10.10.5 with Xcode 7.0.1.</p></div>
<div class="paragraph"><p>We fixed the Windows compile errors by editing file <em>file_header.hpp</em>
and adding the following lines <em>after #include &lt;jellyfish/rectangular_binary_matrix.hpp&gt;</em>:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>namespace std {
    #include &lt;sstream&gt;

    template &lt;typename T&gt;
    std::string to_string(T value)
      {
      //create an output string stream
      std::ostringstream os ;

      //throw the value into the string stream
      os &lt;&lt; value ;

      //convert the string stream into a string and return
      return os.str() ;
      }

    template std::string to_string&lt;long long int&gt;(long long int); // instantiate with long long int
}</code></pre>
</div></div>
<div class="paragraph"><p>That allowed the <em>make</em> to succeed under Windows.</p></div>
<div class="paragraph"><p>The Jellyfish README says the following about compilation under OSX, despite the fact
that we were able to compile successfully:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>To install on Mac OS X: Jellyfish 2.0 does not compile with Apple's
Xcode GCC 4.2. Instead, the easiest thing to do is to install GCC 4.8
using MacPorts (http://www.macports.org) using the following commands:

        sudo port install gcc48
        sudo port install gcc_select
        sudo port select -set gcc mp-gcc48

The first command installs GCC version 4.8. The third command makes
that version of GCC the default, and the second installs a package that
makes the third command work. After the above, you should be able to
run './configure ; make' as normal.</code></pre>
</div></div>
<div class="paragraph"><p>Those steps might allow you to compile Jellyfish with an older version of OSX and
Xcode.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</dd>
<dt class="hdlist1">
<strong>Install</strong>
</dt>
<dd>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>To install the Jellyfish program after compiling it, use this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>sudo make install</code></pre>
</div></div>
<div class="paragraph"><p>The <em>sudo</em> command prompts for a password.  Enter your computer&#8217;s administrator
password.  On Windows/Cygwin, leave <em>sudo</em> off the above command.</p></div>
<div class="paragraph"><p>The <em>make install</em> command places the Jellyfish program in the PATH variable so
that the program can be run with the command <em>jellyfish</em>. (Sometimes it is necessary
to log out and back in for a PATH change to take effect). Rerun the "jellyfish --version"
command to verify that Jellyfish is installed.</p></div>
<div class="paragraph"><p>The parameter CMD_JELLYFISH in the allPathParameters.ours file is already set to
<em>jellyfish</em>, which is the command needed to run the Jellyfish program. You
shouldn&#8217;t need to change it.</p></div>
<div class="paragraph"><p>Also, you shouldn&#8217;t need to change the parameter JELLYFISH_HASH_SIZE. The value
that is set for it already will usually work fine.  However, if you
are using a computer with lots of memory, you may want to change the value to take
advantage of that.  It can be especially helpful if you are working with k-mer sizes
or genome sizes that produce lots more than 25 million k-mers.</p></div>
</div></div>
</dd>
</dl></div>
<div class="paragraph"><p>&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Install Perl</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Perl is a programming language used by IGGPIPE. Using it requires a Perl interpreter
application on your computer. The Mac OSX system comes with a Perl interpreter
already installed, and this should be sufficient. This version of IGGPIPE was
tested with Perl version 5.16.0, although later versions, and earlier V5 versions,
will probably be fine. You can find out if you already have Perl installed and what
its version is with this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>perl --version</code></pre>
</div></div>
<div class="paragraph"><p>If you do not have Perl installed or if the version is older than V5, you must
install it, so look for it here:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>https://www.perl.org/get.html</code></pre>
</div></div>
<div class="paragraph"><p>Explicit installation instructions are not given here.  Follow the instructions
provided in the downloaded installation package, then re-run the "perl --version"
command to verify that it is installed. Sometimes it may be necessary to log out
and log back in so that the Perl location can be added to the PATH, before the
command will work.</p></div>
<div class="paragraph"><p>The parameter CMD_PERL in the allPathParameters.ours file is already set to
<em>perl</em>, which is the command needed to run the Perl program. You shouldn&#8217;t need
to change it.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Install R</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>R is a programming language used by IGGPIPE. Using it requires that the R programming
environment be installed on your computer. This version of IGGPIPE was tested with R
version 3.2.1, although later versions, and earlier V3 versions, will probably be
fine. You can find out if you already have R installed and what its version is
with this command, which invokes the command line version of the R interpreter:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Rscript --version</code></pre>
</div></div>
<div class="paragraph"><p>If you do not have R installed, or have it installed but want to update to a newer
version number, look for it here:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>https://www.r-project.org</code></pre>
</div></div>
<div class="paragraph"><p>Explicit installation instructions for R are not given here.  Follow the instructions
provided in the downloaded installation package, then re-run the "Rscript --version"
command to verify that it is installed.</p></div>
<div class="paragraph"><p>Windows presented a separate problem.  If R is installed under the "Program Files"
directory, which is the default for the R installer, an error occurred with the
message <em>Error: could not find function "dir.exists"</em>.  The only way we could
find around this problem was to <em>reinstall R</em> under a different directory, such
as under the <em>cygwin</em> directory, or any directory that has no SPACE character
in the directory path.  If you are working with Windows, install or reinstall R
in such a directory, installing the Windows R binary using the regular R Windows
installer.  For example, we installed into directory C:/cygwin64/home/username/bin/</p></div>
<div class="paragraph"><p>IGGPIPE does not use any extra R packages.</p></div>
<div class="paragraph"><p>The parameter CMD_RSCRIPT in the allPathParameters.ours file is already set to
<em>Rscript</em>, which is the command needed to run the Rscript program. You shouldn&#8217;t
need to change it, UNLESS you are running Windows.  For Windows, set CMD_RSCRIPT
to the full path to Rscript.exe.  The correct path to use can be obtained by
changing into directory containing Rscript.exe and entering the commands:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>readlink -f primer3_core.exe
cygpath -am  (output from readlink command above)</code></pre>
</div></div>
<div class="paragraph"><p>The <em>readlink</em> command produces a path as output, and you put that path as the
argument to the <em>cygpath</em> command, and it produces a path whose output is the
value to assign to CMD_RSCRIPT parameter. The <em>readlink</em> command path would
probably also work.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Install Primer3</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Primer3 is a classic bioinformatics application that generates primers from
sequence data.  It is used by IGGPIPE to generate primers for candidate IGG
markers, so it must be installed on your computer. This version of IGGPIPE was
tested with Primer3 version 2.3.6, although later versions and earlier V2
versions will probably be fine. You probably know if you already have
Primer3 installed. If you don&#8217;t know that you do, then you should install
it. Look for it here:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>http://sourceforge.net/projects/primer3</code></pre>
</div></div>
<div class="paragraph"><p>It comes pre-built for OSX and Windows but may need to be compiled for Linux.
Make sure you download the correct version (primer3, not primer3plus). Put the
downloaded directory wherever you want on your computer. The file named
primer3_core (primer3_core.exe on Windows) in the root directory of the
downloaded package is the executable program file.  In Windows it is necessary
to change the file to be executable, with this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>chmod u+x primer3_core.exe</code></pre>
</div></div>
<div class="paragraph"><p>Now assign the parameter "CMD_PRIMER3CORE" in the allPathParameters.ours
file, for example:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>CMD_PRIMER3CORE := ~/Documents/primer3-2.3.6/primer3_core</code></pre>
</div></div>
<div class="paragraph"><p>For Windows, as in the previous step involving Rscript, use <em>readlink</em> and
<em>cygpath</em> to get the paths needed, first changing into the directory where
primer3_core.exe is located, then:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>readlink -f e-PCR.exe
cygpath -am  (output from readlink command above)</code></pre>
</div></div>
<div class="paragraph"><p>A set of files containing thermodynamic settings is provided with the Primer3
installation, in a subdirectory of the main Primer3 directory named <em>primer3_config</em>.
The parameter "DIR_PRIMER3CONFIG" in the allPathParameters.ours file, must be
set to the full path to this directory.  For example:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>DIR_PRIMER3CONFIG := /Users/tedtoal/src/primer3-2.3.6/primer3_config</code></pre>
</div></div>
<div class="paragraph"><p>In Windows, the correct path to use can be obtained by changing into the primer3_config
directory and entering the command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cygpath -am</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Install e-PCR</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>e-PCR is an "electronic PCR" application from NCBI that uses primers and sequence
data to do an <em>in silico</em> PCR amplification.  It is used by IGGPIPE to test primers
of candidate IGG markers to see if they generate unique amplicons of the
expected length, so it must be installed on your computer. This version of IGGPIPE
was tested with e-PCR version 2.3.12-1 (-V option displays version 2.3.12, but
downloaded file was 2.3.12-1), although later versions will probably be
fine.</p></div>
<div class="paragraph"><p>To install e-PCR, look for it here:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>http://www.ncbi.nlm.nih.gov/tools/epcr</code></pre>
</div></div>
<div class="paragraph"><p>The download link uses FTP protocol. Log in as user GUEST with no password.
Look for the latest .zip version or tar.gz, copy the file or folder to your,
computer, and unzip it. Put the unzipped directory wherever you want on your
computer.</p></div>
<div class="paragraph"><p>In some cases, a binary distribution might be available, so once downloaded, you
should be able to run e-PCR without further ado.  At the time we downloaded version
2.3.12-1, it was only available as source code and it was necessary to run <em>make</em>
to compile and build the program.</p></div>
<div class="paragraph"><p>Refer to the file <em>BUILD.html</em> in the e-PCR source directory for instructions on
compiling the source.</p></div>
<div class="paragraph"><p>Under Windows, the program was able to be built with this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>make LF64LDFLAGS= LF64CCFLAGS=-DNATIVE_LARGEFILES links depend all OPTIMIZE=6</code></pre>
</div></div>
<div class="paragraph"><p>Under Mac OSX, there were compile failures that required editing of the source code
in order for the <em>make</em> operation to complete successfully. Perhaps these
problems will have been fixed in the version you download (or perhaps a binary
version will be available at the time you download). Test by trying to build e-PCR.
For Mac OSX, the source was compiled by changing into the
directory where the files were unzipped and entering the following command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cd e-PCR-2.3.12-1
make LF64LDFLAGS= LF64CCFLAGS=-DNATIVE_LARGEFILES COMMON_CC_FLAGS=-w</code></pre>
</div></div>
<div class="paragraph"><p>If the <em>make</em> completes without error, there will be a file named "e-PCR" in the
directory, and if you run it, it will display a page full of usage info:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>e-PCR    (Run e-PCR to see if it works)</code></pre>
</div></div>
<div class="paragraph"><p>If you get errors from the <em>make</em> under OSX like we did, here are the changes we
made that allowed the <em>make</em> to succeed:</p></div>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
Edit file mmap.cpp and remove "//" from the start of the line that reads
        "//#include &lt;sstream&gt;"
</p>
</li>
<li>
<p>
Edit file minilcs.hpp and insert the following two lines after the line
        that reads "#include &lt;cstring&gt;":
</p>
<div class="literalblock">
<div class="content">
<pre><code>#include &lt;cstdlib&gt;
#include &lt;sstream&gt;</code></pre>
</div></div>
</li>
</ol></div>
<div class="paragraph"><p>Now try the <em>make</em> command again, followed by running "e-PCR":</p></div>
<div class="literalblock">
<div class="content">
<pre><code>make LF64LDFLAGS= LF64CCFLAGS=-DNATIVE_LARGEFILES COMMON_CC_FLAGS=-w
e-PCR    (Run e-PCR)</code></pre>
</div></div>
<div class="paragraph"><p>The <em>make</em> should succeed and e-PCR should display its usage information, meaning
you are good to go.</p></div>
<div class="paragraph"><p>Now assign the parameter "CMD_EPCR" in the allPathParameters.ours file, for
example:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>CMD_EPCR := ~/Documents/e-PCR-2.3.12-1/e-PCR</code></pre>
</div></div>
<div class="paragraph"><p>For Windows, as in the previous step, use <em>readlink</em> and <em>cygpath</em> to get the paths
needed, first changing into the directory where e-PCR.exe is located, then:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>readlink -f e-PCR.exe
cygpath -am  (output from readlink command above)</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Install MUSCLE</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>MUSCLE is an open-domain multiple sequence aligner.  It is used by IGGPIPE only
if you choose to search markers or LCRs for Indels and SNPs by using the <em>make IndelsSNPs</em>
command, so if you don&#8217;t do that you can skip this step, although you may as
well install it. This version of IGGPIPE was tested with MUSCLE version v.8.31,
although later versions will probably be fine. To install MUSCLE, look for it
here:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>http://www.drive5.com/muscle/downloads.htm</code></pre>
</div></div>
<div class="paragraph"><p>The executable images are already built, so choose the correct download for your
system and download the file, putting it wherever you want on your computer, such
as a bin folder.</p></div>
<div class="paragraph"><p>Now assign the parameter "CMD_ALIGNER" in the allPathParameters.ours file, for example:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>CMD_ALIGNER := ~/bin/muscle3.8.31_i86darwin64</code></pre>
</div></div>
<div class="paragraph"><p>For Windows, as in the previous step, use <em>readlink</em> and <em>cygpath</em> to get the paths
needed, first changing into the directory where muscle3.8.31_i86win32.exe is
located, then:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>readlink -f muscle3.8.31_i86win32.exe
cygpath -am  (output from readlink command above)</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Build findMers</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>findMers is a C++ program that is part of IGGPIPE. It takes as input a file full of
k-mers and a genome FASTA file, and produces as output a file of the k-mers with
their genomic position included as additional data columns in the file. It can
also locate all contigs in the genome FASTA file and output a file that lists
the starting position and length of each contig. IGGPIPE uses both of these
functions of findMers to generate a list of common unique k-mers to be analyzed
for LCRs (locally conserved regions). The findMers program must be compiled and
built using <em>make</em>. Its source files are located in the code/cpp/findMers directory.
Change into that directory and enter the command <em>make</em>:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cd code/cpp/findMers
make
findMers
cd ../../..</code></pre>
</div></div>
<div class="paragraph"><p>The <em>make</em> should compile the C++ files in the findMers folder.  It should
complete without error, and there will be a file named
"findMers" in the directory, and when that file is run with the <em>findMers</em>
command shown above following <em>make</em>, it will display a page of usage
information. The path to "findMers" is already set correctly in the
allPathParameters.ours file.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Test trashing and choose deletion method</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>IGGPIPE uses <em>make</em> to run data through its pipeline. A command can be given to
cause <em>make</em> to delete files that it has generated by running the pipeline.
There are two different ways it can delete files: it can actually delete them,
or it can move them to a trash folder where they can be found and undeleted
if necessary. A script file (code/shell/trash.sh) is provided to move files to
the Mac OSX trash
folder, but for Linux or Windows, you must either modify that script file so
that it will work with your operating system, or choose the other method that
simply deletes files.</p></div>
<div class="paragraph"><p>You must choose which of these methods you want. Since the trash folder method is
more useful and flexible, it is the default method, but again, on Linux or Windows
you will need to change it or modify trash.sh to work properly.</p></div>
<div class="paragraph"><p>You select the method by setting the allPathParameters.ours parameter
CMD_DELETE_WHEN_CLEANING to either $(CMD_DELETE) or $(CMD_TRASH). You should
make sure it is set the way you want.  Also, you should
test the shell script that moves files to the trash, to make sure it works. To
do this, use these commands:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cp help.txt junk.txt
$SHELL code/shell/trash.sh junk.txt</code></pre>
</div></div>
<div class="paragraph"><p>Now look in the trash can to see if file "junk.txt" is there. If this doesn&#8217;t work,
you should set the $(CMD_DELETE) method as the delete method:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>CMD_DELETE_WHEN_CLEANING := $(CMD_DELETE)</code></pre>
</div></div>
</div></div>
</li>
<li>
<p>
<strong>Copy primer3settings.default.txt</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Primer3 uses a settings file to control many of the settings it uses to generate
primers. Several sample settings files come with Primer3, in its root directory.
One of these, <strong>primer3web_v4_0_0_default_settings.txt</strong>, was copied and modified
for use with IGGPIPE. The file is named <strong>primer3settings.default.txt</strong>, in the main
IGGPIPE directory. The following required changes were made to it:</p></div>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
P3_FILE_ID was set to a descriptive settings title.
</p>
</li>
<li>
<p>
PRIMER_EXPLAIN_FLAG was changed from 1 to 0.
</p>
</li>
<li>
<p>
PRIMER_PRODUCT_SIZE_RANGE was set to a simplified 36-300 (primers are designed
with most intervening DNA sequence removed)
</p>
</li>
<li>
<p>
PRIMER_NUM_RETURN was changed from 5 to 1.
</p>
</li>
<li>
<p>
PRIMER_GC_CLAMP was changed from 0 to 1 (optional but recommended).
</p>
</li>
</ol></div>
<div class="paragraph"><p>You need to copy the default settings file to a new file that can be edited by you,
should you want to change Primer3 settings for your needs while keeping a pristine
copy in the original primer3settings.default.txt file.  Copy it to this file name:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cp primer3settings.default.txt primer3settings.txt</code></pre>
</div></div>
<div class="paragraph"><p>This file copy is all you need to do, IGGPIPE will work with this version,
and this is the required version for running the test of IGGPIPE.</p></div>
<div class="paragraph"><p>The RUN instructions for IGGPIPE indicate that primer3settings.txt should be
edited if you want to change primer settings for your needs. However, whenever
you want to run the test of IGGPIPE as shown below, you should re-do the above
copy to use the pristine file for testing.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Enable Access to FileMerge (optional and Mac only)</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Parameter settings files (allParameters.* and allPathParameters.*) and
Primer3 settings files (primer3settings.txt) can be edited by the user. You
might at some time wish to see what changes were made to a file by comparing it
to another similar file. The <em>diff</em> command can be used on the command line to
do this. Another program, available on Mac OSX, is <em>FileMerge</em>, a great file
comparison and merging tool that comes with Xcode. It is initially
hidden within Xcode, but you can put it in your dock to make it more easily
accessible.</p></div>
<div class="paragraph"><p>To run FileMerge, start Xcode, then on the menu choose Xcode,
Open Developer Tool, FileMerge.  When it opens up, find its icon on the dock
and set it to stay put in the dock, then you can close Xcode and in the future
get to it directly from the dock.</p></div>
<div class="paragraph"><p>When you run FileMerge, it prompts for two or three or four file names.
To see an example of use, enter the first two file names, "left" and "right",
setting "left" to allParameters.template and "right" to allParameters.test,
then click "Compare". You will see a comparison of the two files, with the
differences clearly shown. If you wanted to incorporate changes from one of
these files into the other, you can do this easily by using the up/down arrow
keys to go through the differences one
by one, and use the left/right arrow keys to select whether you want the left or
right side file text in the output, and you can also click in the box on the
bottom that shows the merged text and edit it; when finished you can save the
merged text to a new file or overwrite one of the two compared files, using
File, Save Merge. Since we don&#8217;t want to merge these files, exit FileMerge
without saving anything.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Run IGGPIPE using the test parameters in allParameters.test and check for success</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Everything is now ready to run the IGGPIPE pipeline. Data for testing it is provided
in the testFASTA folder. This consists of two FASTA files that are truncated versions
of the S. lycopersicum (tomato) and S. pennellii genomes, with only two chromosomes
(1 and 2) and only about 14 Mbp for each one. The parameter file allParameters.test
has parameters set for using these FASTA files and doing the test. It is more-or-less
a copy of the allParameters.template file, modified for testing IGGPIPE.</p></div>
<div class="paragraph"><p>To test IGGPIPE, from the command line in the IGGPIPE main directory, enter this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>make PARAMS=allParameters.test ALL | tee logFiles/makeLog.test.txt</code></pre>
</div></div>
<div class="paragraph"><p>If all goes well, the pipeline will run quickly, and after four or five minutes, it
should finish with the message <strong>ALL files are up to date</strong>.</p></div>
<div class="paragraph"><p>The <em>tee</em> command routes the piped log output from <em>make</em> to the console and to the
file logFiles/makeLog.test.txt. You can examine this file after the run to see what
specifically happened at each step, for example with this command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>less logFiles/makeLog.test.txt</code></pre>
</div></div>
<div class="paragraph"><p>Note that the output includes timestamps telling how long each step took to run.</p></div>
<div class="paragraph"><p>If the pipeline fails, an error message of some kind is displayed, and <em>make</em> stops.
(There is a problem with Windows, where sometimes <em>make</em> does not stop on an error,
but keeps going.  We have not found a way around this.  If this happens to you, you
will need to go back through the output to look for errors.)  If an error occurs,
proceed to the next step, troubleshooting.</p></div>
<div class="paragraph"><p>If no error occurs, there should be several
files in the output folder "outTestHP11", including files starting with these
prefixes and suffixes (shown in the order that they are produced by the pipeline):</p></div>
<div class="olist loweralpha"><ol class="loweralpha">
<li>
<p>
LCRs_*.tsv
</p>
</li>
<li>
<p>
BadKmers_*.tsv
</p>
</li>
<li>
<p>
IndelGroupsOverlapping_*.tsv
</p>
</li>
<li>
<p>
IndelGroupsNonoverlapping_*.tsv
</p>
</li>
<li>
<p>
NonvalidatedMarkers_*.tsv
</p>
</li>
<li>
<p>
MarkerErrors_*.tsv
</p>
</li>
<li>
<p>
MarkersOverlapping_*.tsv
</p>
</li>
<li>
<p>
MarkersNonoverlapping_*.tsv
</p>
</li>
<li>
<p>
MarkerCounts_*.pdf
</p>
</li>
<li>
<p>
MarkerDensity_*.png
</p>
</li>
</ol></div>
<div class="paragraph"><p>The MarkersOverlapping_ and MarkersNonoverlapping_ files are the final output files
containing the markers.</p></div>
<div class="paragraph"><p>The .pdf and .png files should be examined to see how they depict marker counts
and densities.</p></div>
<div class="paragraph"><p>The tables at the end of the RUN document describe the columns in these tab-separated
data files.</p></div>
<div class="paragraph"><p>To make sure the pipeline ran correctly, compare the MarkersOverlapping_ file to the
expected result, which is in subdirectory goodTest:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cmp outTestHP11/MarkersOverlapping_*.tsv goodTest/MarkersOverlapping_*.tsv</code></pre>
</div></div>
<div class="paragraph"><p>This command should not produce any output, indicating the two files are identical.
If it produces output indicating non-identity of the files, you have a problem, so
proceed to the next step, troubleshooting.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Troubleshooting</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>A common problem is with file paths. Pay close attention to error messages at the
end before <em>make</em> stops.  Recheck file paths if messages indicate a file could not
be found.  Note that with Windows, which uses "\" rather than "/" to separate
directories in file paths, we found that we could use "/" in all the paths in
the allParameters.ours file and allParameters.test file and it worked fine; we
did not have to use "\" anywhere.</p></div>
<div class="paragraph"><p>In Windows, if you need to know the path that you should place into a CMD_
variable as the full path to a .exe file, use <em>readlink -f (exe filename)</em>.</p></div>
<div class="paragraph"><p>Windows gave the most problems, and the most common problem with Windows was in
text file line endings, which under Windows can be either "DOS" or "Unix" line
endings.  IGGPIPE produces files with Unix line endings exclusively, but it
generally tolerates input files with either type of line ending.  Most tools
and programs you might use to examine the files will also tolerate either type
of line ending, but occasionally, a program requires DOS line endings.  Be aware
of this situation during troubleshooting, and consider whether the observed
problem might be one with line endings.  You can determine whether a file has
DOS line endings with the command:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cat -v filename | head</code></pre>
</div></div>
<div class="paragraph"><p>If the file has DOS line endings, you will see the character ^M at the end of
each line. Otherwise, it has Unix line endings. To convert a file with DOS line
endings to one with Unix line endings:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>tr -d '\r' &lt; filenameDOS &gt; filenameUnix</code></pre>
</div></div>
<div class="paragraph"><p>To convert a file with Unix line endings to one with DOS line endings:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>awk 'sub("$", "\r")' filenameUnix &gt; filenameDOS</code></pre>
</div></div>
<div class="paragraph"><p>Another problem can be program versions.  If you use an older or newer version
of a program than what we used, the pipeline might fail, depending on what the
changes are, or it might produce different output.  Look carefully at version
numbers and check to see if the output differs for any program that has a different
version number than what we used.</p></div>
<div class="paragraph"><p>If IGGPIPE produces a different marker output file than expected, as indicated by
output being produced by the <em>cmp</em> command shown in the preceding step, you
should do difference testing on other output files.  Each of the files whose
prefixes and suffixes are listed in the previous step have a "good" version of
the file containing the expected results, in folder goodTest.  Each
of those files can be compared to the output IGGPIPE produced when you ran it
using a <em>cmp</em> command to see which ones are good. No output means the files match.
A shell script named <em>cmpKeyFiles.sh</em> is provided that runs <em>cmp</em> on each of these
files. To use it with the allParameters.test output files:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>source code/shell/cmpKeyFiles.sh outTestHP11 goodTest</code></pre>
</div></div>
<div class="paragraph"><p>It will show only a single line of output for each file, saying it compared the file,
if the files match.  If they don&#8217;t match, you will get a lot of output from the
mismatches.  A single file can be compared with this command, for example to compare
the LCRs_ file:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>cmp outTestHP11/LCRs_*.tsv goodTest/LCRs_*.tsv</code></pre>
</div></div>
<div class="paragraph"><p>If the final output file does not match, but one or more output files do match (starting
with the first file listed in the previous step), then you can tell which step
produced an incorrect result based on which file in the list is the first one that
is incorrect.  The following <em>make</em> steps produce the following output files <em>(italicized
output files are those available in the goodTest subdirectory for comparison to your files)</em>:</p></div>
<div class="tableblock">
<table rules="all"
width="100%"
frame="border"
cellspacing="0" cellpadding="4">
<col width="50%" />
<col width="50%" />
<thead>
<tr>
<th align="left" valign="top"><em>make</em> command or other command</th>
<th align="left" valign="top">Produces output file(s)</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left" valign="top"><p class="table">a. make PARAMS=myFilename getSeqInfo</p></td>
<td align="left" valign="top"><p class="table">GenomeData/*.idlens</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">b. make PARAMS=myFilename getContigFile</p></td>
<td align="left" valign="top"><p class="table">GenomeData/*.contigs</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">c. make PARAMS=myFilename getKmers</p></td>
<td align="left" valign="top"><p class="table">Kmers/Kmers_*.kmers</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">d. make PARAMS=myFilename kmerStats</p></td>
<td align="left" valign="top"><p class="table">Kmers/Kmers_*.stats</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">e. make PARAMS=myFilename kmersToText</p></td>
<td align="left" valign="top"><p class="table">Kmers/Kmers_*.kmers.txt</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">f. make PARAMS=myFilename getGenomicPosIsect</p></td>
<td align="left" valign="top"><p class="table">Kmers/Kmers_*.isect</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">g. make PARAMS=myFilename mergeKmers</p></td>
<td align="left" valign="top"><p class="table">Kmers/Kmers_*.merge</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">h. make PARAMS=myFilename sortCommonUniqueKmers</p></td>
<td align="left" valign="top"><p class="table">Kmers/common.unique.kmers</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">i. make PARAMS=myFilename findLCRs</p></td>
<td align="left" valign="top"><p class="table"><em>LCRs_*.tsv, BadKmers_*.tsv</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">j. make PARAMS=myFilename findIndelGroups</p></td>
<td align="left" valign="top"><p class="table"><em>IndelGroupsOverlapping_*.tsv, IndelGroupsNonoverlapping_*.tsv</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">k. make PARAMS=myFilename getDNAseqsForPrimers</p></td>
<td align="left" valign="top"><p class="table"><em>IndelGroupsOverlapping_*.dnaseqs</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">l. make PARAMS=myFilename findPrimers</p></td>
<td align="left" valign="top"><p class="table"><em>NonvalidatedMarkers_*.tsv</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">m. make PARAMS=myFilename ePCRtesting</p></td>
<td align="left" valign="top"><p class="table"><em>MarkerErrors_*.tsv</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">n. make PARAMS=myFilename removeBadMarkers</p></td>
<td align="left" valign="top"><p class="table"><em>MarkersOverlapping_*.tsv, MarkersNonoverlapping_*.tsv</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">o. make PARAMS=myFilename plotMarkers</p></td>
<td align="left" valign="top"><p class="table"><em>MarkerCounts_*.pdf, MarkerDensity_*.png</em></p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">p. make PARAMS=myFilename getDNAseqsForIndelsSNPs</p></td>
<td align="left" valign="top"><p class="table">*.withseqs.tsv</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">q. make PARAMS=myFilename IndelsSNPs</p></td>
<td align="left" valign="top"><p class="table">*.indels.tsv, *.snps.tsv</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">r. make PARAMS=myFilename plotIndels</p></td>
<td align="left" valign="top"><p class="table">*.indels.pdf</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">s. Rscript code/R/dotplot.R dotplot.template</p></td>
<td align="left" valign="top"><p class="table">LCRs_*.dotplot.png</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">t. Rscript code/R/annotateFile.R annotate.template</p></td>
<td align="left" valign="top"><p class="table">MarkersAnnotated_*.tsv</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">u. Rscript code/R/annotateFile.R annotate/HP11_isInNearColumn.markers</p></td>
<td align="left" valign="top"><p class="table">MarkersAnnotated_WithInNearFeatures_*.indels.tsv</p></td>
</tr>
<tr>
<td align="left" valign="top"><p class="table">v. Rscript code/R/annotateFile.R annotate/HP11_to_gff3.markers</p></td>
<td align="left" valign="top"><p class="table">MarkersAnnotated_GFF3_*.gff3</p></td>
</tr>
</tbody>
</table>
</div>
<div class="paragraph"><p>(Note that some of the files listed above are produced by steps to be described below).</p></div>
<div class="paragraph"><p>Different results between the goodTest directory files and your outTestHP11
directory files might be due to running a software package of a different
version than what we used for testing. For example, a different version of e-PCR
might cause a mismatch starting at file <em>MarkerErrors_*.tsv</em>. Another possibility
to be aware of is that the files may in fact be identical except one might have
Unix line ends and the other might have DOS line ends.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Run <em>make IndelsSNPs</em> to align markers and find Indels and SNPs</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Pipeline software is also provided to read a file of
LCRs, non-overlapping Indel Groups, or non-overlapping Markers, extract the DNA sequences
from the genomes in each LCR or Marker region and align them, then locate all Indels
and SNPs in the aligned sequences and write their positions to files.  This part of the
pipeline is NOT run when the <em>make &#8230; ALL</em> target is built.  Run it as follows:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>make PARAMS=allParameters.XY getDNAseqsForIndelsSNPs    (replacing with your allParameters name)
make PARAMS=allParameters.XY IndelsSNPs    (replacing with your allParameters name)</code></pre>
</div></div>
<div class="paragraph"><p>This produces three files in your output folder whose names end with "withseqs.tsv",
"indels.tsv" and ".snps.tsv", the latter two containing tables of all Indels and SNPs
found in the marker regions.</p></div>
<div class="paragraph"><p>Check that the output files exist with:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>ls outTestHP11/NonoverlappingMarkers*.indels.tsv
ls outTestHP11/NonoverlappingMarkers*.snps.tsv</code></pre>
</div></div>
<div class="paragraph"><p>This should list the files <em>outTestHP11/MarkersNonoverlapping_K11k2L100D10_2000A100_2000d10_100N2F0X20V3000W8M3G1.indels.tsv</em>
and  <em>outTestHP11/MarkersNonoverlapping_K11k2L100D10_2000A100_2000d10_100N2F0X20V3000W8M3G1.snps.tsv</em></p></div>
<div class="paragraph"><p>You can examine them with Excel or a text editor to see the Indel and SNP data they contain.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Run <em>make plotIndels</em> to plot Indel information</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>Another R program that is NOT run as part of the pipeline when the <em>make &#8230; ALL</em> target
is built, but which can be run using <em>make &#8230; plotIndels</em>, reads the Indels file produced
by <em>make &#8230; IndelsSNPs</em> and plots information from it in a pdf file. The program is called
plotIndels.R. Run it as follows:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>make PARAMS=allParameters.test plotIndels</code></pre>
</div></div>
<div class="paragraph"><p>Check that the output file exists with:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>ls outTestHP11/Markers*.indels.pdf</code></pre>
</div></div>
<div class="paragraph"><p>This should list the file <em>outTestHP11/MarkersNonoverlapping_K11k2L100D10_2000A100_2000d10_100N2F0X20V3000W8M3G1.indels.pdf</em></p></div>
<div class="paragraph"><p>You might want to open it and look at the plots.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Run dotplot.R to make a dot plot</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>The LCRs_ file contains a list of common unique k-mers assigned to locally conserved
regions (LCRs), and it can be used to make a dotplot depicting alignment of the two
genomes. The R program dotplot.R is provided to do this. It is driven by a parameter
file, a sample of which has been provided, dotplot.template, that is set for using
the test data produced by running IGGPIPE with allParameters.test. Run dotplot.R
as follows:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Rscript code/R/dotplot.R dotplot.template</code></pre>
</div></div>
<div class="paragraph"><p>Check that the output file exists with:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>ls outTestHP11/LCRs_*.dotplot.png</code></pre>
</div></div>
<div class="paragraph"><p>This should list the file <em>outTestHP11/LCRs_K11k2L100D10_2000.dotplot.png</em>, an image file.
You may want to examine it (e.g. in the OSX Preview app) to see the dot plot.</p></div>
<div class="paragraph"><p>There are other sample parameter files in subdirectory <em>dotplot</em>, although the
parameter file is fairly straightforward and you probably don&#8217;t need other examples
to work from.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Run annotateFile.R to make new files containing annotated marker data in different formats</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>A common need is to add additional annotation information the table of markers. For
example, you might be working with an introgression line population and
wish to annotate each marker with the names of the lines whose introgressions that
marker lies within, along with the marker position relative to the introgression.
Or, you might want to annotate each marker with the ID of the nearest gene and its
distance away. You may also want to change file format, from .tsv (tab-separated)
to .gff3 or .gtf for adding the markers to a browser track. All this can be done with
the R program annotateFile.R that is provided with IGGPIPE. It is driven by a parameter
file, a sample of which has been provided, annotate.template, that is set for using
the test data produced by running IGGPIPE with allParameters.test, along with
additional annotation test data in folder code/R/test_GFFfuncsAndMergeData. Run
annotateFile.R as follows:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>Rscript code/R/annotateFile.R annotate.template</code></pre>
</div></div>
<div class="paragraph"><p>Check that the output file exists with:</p></div>
<div class="literalblock">
<div class="content">
<pre><code>ls outTestHP11/MarkersAnnotated*</code></pre>
</div></div>
<div class="paragraph"><p>This should list file
<em>MarkersAnnotated_K11k2L100D10_2000A100_2000d10_100N2F0X20V3000W8M3G1.tsv</em>
in the outTestHP11 folder.
You can examine this file with a text editor or Excel to see the new column that
was added compared to the input file
<em>MarkersOverlapping_K11k2L100D10_2000A100_2000d10_100N2F0X20V3000W8M3G1.tsv</em>.</p></div>
<div class="paragraph"><p>There are other sample parameter files in subdirectory <em>annotate</em> which produce
other types of files or do other types of file data manipulation.  The parameters
can be challenging to set properly, especially when merging data from a separate
file, so these sample files can be helpful. Also, when .gff3 files are used, they
must conform well to the expected GFF3 format else an error is likely to occur.
&#8203;<br />
&#8203;<br /></p></div>
</div></div>
</li>
<li>
<p>
<strong>Edit primer3settings.txt (optional)</strong>
</p>
<div class="openblock">
<div class="content">
<div class="paragraph"><p>After finishing installation, and prior to any run of IGGPIPE, you may want to
edit primer3settings.txt file and make any changes that are
important for your needs. For example, you might change the parameters that
determine the acceptable <em>range of primer Tm values</em>. If you have several
different setting values you use, you will probably want to keep a directory
of different primer3settings.txt files and copy the needed one prior to each
run of IGGPIPE.</p></div>
<div class="paragraph"><p>The Primer3 user manual (<a href="http://primer3.sourceforge.net/primer3_manual.htm">http://primer3.sourceforge.net/primer3_manual.htm</a>)
describes all the parameters.</p></div>
<div class="paragraph"><p>An explanation of the sequence data IGGPIPE gives Primer3 in order to generate
primers will be helpful, particularly in understanding the setting of the
parameter PRIMER_PRODUCT_SIZE_RANGE. Since IGGPIPE is making primers to be used
in different genomes with different sequences and sequence lengths between
the two primer sites, it cannot use the typical method of giving Primer3 the
entire sequence between the two primer sites. Instead, IGGPIPE gives Primer3
the concatenation of two short sequences, one around each of the two k-mers
that define and anchor the candidate IGG marker. Each sequence is equal to
K plus twice EXTENSION_LEN in length. Both K (the k-mer length) and EXTENSION_LEN
(the number of bases to add on each side of the k-mer) are defined in
allParameters.template. Thus, the sequence that Primer3 uses for designing
the primers is equal to 2K + 4*EXTENSION_LEN in length. IGGPIPE also gives
Primer3 a value for its parameter SEQUENCE_PRIMER_PAIR_OK_REGION_LIST.
This tells Primer3 to design one primer in the left half of the sequence and
one primer in the right half. Thus, the primer product size will appear to
Primer3 to be much smaller than the actual amplicon size will be, which is
why PRIMER_PRODUCT_SIZE_RANGE can be set to a smaller value than the amplicon
sizes.</p></div>
<div class="paragraph"><p>Although Primer3 is a stable program and unlikely to change a
lot, if new versions of Primer3 add parameters, you might want to incorporate
them into primer3settings.txt. You will see new parameters if you compare
primer3settings.txt to Primer3&#8217;s file primer3web_v4_0_0_default_settings.txt
(for example by using <em>diff</em> or <em>FileMerge</em>).</p></div>
</div></div>
</li>
</ol></div>
<div class="paragraph"><p><strong>That completes the installation of IGGPIPE.</strong></p></div>
</div>
</div>
<div class="sect1">
<h2 id="_strong_to_run_iggpipe_to_generate_markers_strong"><strong>To run IGGPIPE to generate markers</strong></h2>
<div class="sectionbody">
<div class="ulist"><ul>
<li>
<p>
Find file RUN.pdf or RUN.html in the IGGPIPE folder on your computer and open
either one and follow the instructions.
</p>
</li>
</ul></div>
<div class="sect2">
<h3 id="_strong_for_problems_and_help_strong"><strong>For problems and help:</strong></h3>
<div class="ulist"><ul>
<li>
<p>
Post an issue on GitHub under BradyLab/IGGPIPE repository
</p>
</li>
<li>
<p>
Contact me, Ted Toal, <a href="mailto:twtoal@ucdavis.edu">twtoal@ucdavis.edu</a>
</p>
</li>
</ul></div>
</div>
</div>
</div>
</div>
<div id="footnotes"><hr /></div>
<div id="footer">
<div id="footer-text">
Last updated 2016-01-17 12:12:55 PST
</div>
</div>
</body>
</html>
